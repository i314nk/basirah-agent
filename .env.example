# ============================================
# LLM Configuration
# ============================================

# Primary LLM Model (for main analysis)
# Available models:
#   - claude-sonnet-4.5: Claude 4 Sonnet - Best quality, recommended ($3-4 per analysis)
#   - claude-3.5-sonnet: Claude 3.5 Sonnet - Previous generation ($3-4 per analysis)
#   - kimi-k2-thinking: Kimi K2 Thinking - Best reasoning quality ($1-2 per analysis)
#   - kimi-k2-thinking-turbo: Kimi K2 Thinking Turbo - Fast reasoning ($0.80-1.50 per analysis)
#   - kimi-k2-turbo: Kimi K2 Turbo - Fastest, less reasoning ($0.50-1.00 per analysis)
#
# Future: OpenAI GPT-5, Google Gemini support planned
#
LLM_MODEL=kimi-k2-thinking

# Validator LLM Model (for validation & refinement) - NEW Phase 7.6E
# Use a cheaper/faster model for validation to reduce costs
# If not specified, uses same model as LLM_MODEL
# Recommended: kimi-k2-turbo (cheapest) or kimi-k2-thinking-turbo (balanced)
# Validation doesn't need extended thinking, so cheap models work great!
# Cost savings: Using kimi-k2-turbo as validator saves ~30-40% on total cost
#
VALIDATOR_MODEL_KEY=kimi-k2-turbo

# ============================================
# Provider API Keys
# ============================================

# Anthropic (Claude) - REQUIRED
ANTHROPIC_API_KEY=your_anthropic_key_here

# ============================================
# Data Provider APIs
# ============================================

# GuruFocus API (Sprint 3, Phase 2)
# Get your Premium API key from: https://www.gurufocus.com/api.php
# Format: token_part1:token_part2
# Example: 108b637edeea70fc3115f7528a63583d:e9bf99e88e9f208aa85eb3681f40b594
# Cost: ~$40/month for Premium subscription
GURUFOCUS_API_KEY=your_key_here

# Web Search (Phase 7.6D)
# Now uses provider-native web search capabilities:
#   - Claude: web_search_20250305 ($10/1K searches + token costs)
#   - Kimi: $web_search builtin (included in token costs)
# No external API key required - handled by LLM providers natively

# ============================================
# Analysis Quality & Validation (Phase 7.6)
# ============================================

# Enable validation loop (Phase 7.6B)
# When enabled, validator agent reviews analysis for quality and completeness
# Recommended: true for production, false for quick testing
ENABLE_VALIDATION=true

# Maximum refinement iterations
# How many times to refine analysis if validation fails
# Default: 2 (usually sufficient to reach 80+ score)
MAX_REFINEMENTS=2

# Validator-Driven Refinement (Phase 7.6D - NEW)
# true: Validator identifies AND fixes issues directly using tools (recommended)
#   - More deterministic (uses calculator_tool, gurufocus_tool to verify)
#   - Surgical fixes via string replacement (no merge failures)
#   - Decision/conviction properly extracted
# false: Old approach (analyst refines, complex section merging)
#   - May have merge failures, decision extraction issues
#   - Kept as fallback for compatibility
USE_VALIDATOR_DRIVEN_REFINEMENT=true
